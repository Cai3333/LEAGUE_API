{% load static %}

<link rel="stylesheet" type="text/css" href="{% static 'riot/record.css' %}">

{% block content %}
<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ stats.name }}</title>
</head>

<main>
    <h1>RIOT API</h1>

    <p><strong>{{ stats.name }}</strong> </p>    
    <p>Tier: <strong>{{ stats.tier }} {{ stats.rank }}</strong></p>    
    <p>Winrate: <strong>W: {{ stats.wins }} / L: {{ stats.losses }} ({{stats.win_rate }}%)</strong></p>

</main>

<div class="container" style="max-width:700px">
    <div class="game-history">
        <div class="row infinite-container">
            {% for game in games %}
            <div class="col-md-12 infinite-item">
                    <a href="/{{stats.server}}/{{stats.name}}/{{game.champion_name}}/info" style="font-size:18px;font-weight:bold;">{{ game.champion_name }}</a>
                    <div class="d-flex justify-content-between align-items-center">
                        <h2 class="text-muted">{{ game.kills }}/{{ game.deaths }}/{{ game.assist }}</h2>
                        <h2 class="text-muted">{{game.win}}</h2>
                        <h2 class="text-muted">{{game.gameMode}}</h2>
                        <h2 class="text-muted">{{game.game_duration}}</h2>
                        <h2 class="text-muted">{{game.time_diff}}</h2>
                        <a href="/{{stats.server}}/{{game.gameId}}/info">{{ game.gameId }}</a>
                        <br>
                        <br>
                        <br>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>
</div>


<form method="get">

    <br>

    <label for="load_more">Load</label>

    <select id="load_more" name="number">
        <option value=5>5</option>
        <option value=10>10</option>
        <option value=15>15</option>
        <option value=20>20</option>
        <option value=25>25</option>
        <option value=30>30</option>
    </select>
    <button type="submit">Load more</button>
</form>


{% if load_more_boolean.boolean %}
<div class="container" style="max-width:700px">
    <div class="game-history">
        <div class="row infinite-container">
            {% for game in more_games %}
            <div class="col-md-12 infinite-item">
                    <a href="/{{stats.server}}/{{stats.name}}/{{game.champion_name}}/info" style="font-size:18px;font-weight:bold;">{{ game.champion_name }}</a>
                    <div class="d-flex justify-content-between align-items-center">
                        <h2 class="text-muted">{{ game.kills }}/{{ game.deaths }}/{{ game.assist }}</h2>
                        <h2 class="text-muted">{{game.win}}</h2>
                        <h2 class="text-muted">{{game.gameMode}}</h2>
                        <h2 class="text-muted">{{game.game_duration}}</h2>
                        <h2 class="text-muted">{{game.time_diff}}</h2>
                        <a href="/{{stats.server}}/{{game.gameId}}/info">{{ game.gameId }}</a>
                        <br>
                        <br>
                        <br>
                </div>
            </div>
            {% endfor %}
        </div>

    </div>
</div>
{% endif %}

{% endblock %}